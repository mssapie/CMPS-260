<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>CMPS 260: Module 2 Programming Assignment</title>
<style>* { font-family: monospace; }</style>
<script>

// NOTE: You must implement the data structures using the no prototype approach.
//       This is what the book uses, so you can copy it.
//       See also: https://it.pointpark.edu/tutorials/no-prototype-vs-prototype/

// NOTE: Please review the following links regularly:
//       https://it.pointpark.edu/tutorials/arrays-vs-objects/
//       https://it.pointpark.edu/tutorials/no-prototype-vs-prototype/
//       https://it.pointpark.edu/tutorials/implementation-vs-interface/



//--------------------------//
// The stack data structure //
//--------------------------//
console.log("The stack data structure");

// 1. Implement the stack data structure described in the book. Instead of
//    using 'let items = [];' use 'var items = []'. Note that this
//    implementation does not use the prototype (see project).

function Stack()
{
  var items = [];

  this.push = function(element)
  {
    items.push(element);
  };

  this.pop = function()
  {
    return items.pop();
  };

  this.isEmpty = function()
  {
    return items.length == 0;
  };

  this.size = function()
  {
    return items.length;
  };

  this.clear = function()
  {
    items = [];
  };

  this.inlinePrint = function()
  {
    return items.toString();
  };

  this.print = function()
  {
    console.log(items.toString());
  };
};
// 2. Write a simple test program that shows your stack works.
var Jimmy = new Stack();
console.log("Is Jimmy the sack empty? " + Jimmy.isEmpty());
Jimmy.push(9);
Jimmy.push(22);
console.log("Jimmy is a growing sack! Look at Jimmy's size: " + Jimmy.size());
Jimmy.push(54);
Jimmy.push(237);
console.log("Jimmy is fully grown! His size is " + Jimmy.size() + " and contains " + Jimmy.inlinePrint());
Jimmy.push(3);
Jimmy.push(12);
Jimmy.push(6);
Jimmy.push(24);
console.log("OH CRAP! Jimmy is too big and is angry! We need to shrink him now! Look at Jimmy's size: " + Jimmy.size());
while(Jimmy.size()>3)
{Jimmy.pop();}

console.log("Great! Jimmy is now a more manageable size! Look at Jimmy's size: " + Jimmy.size());
Jimmy.clear();
console.log("Where did Jimmy go? He was just here a minute ago! Did Jimmy vanish? " + Jimmy.isEmpty());




//----------------------------------//
// ECMAScript 6 and the Stack class //
//----------------------------------//
console.log("ECMAScript 6 and the Stack class");

// Skip.



//-------------------------------//
// Solving problems using stacks //
//-------------------------------//
console.log("Solving problems using stacks");

// 1. Use the prompt to ask for a decimal number. Then write a loop that divides
//    the number by two in every iteration and prints the remainder (0 or 1).
//    For example, if the number is 5 the remainder is 1 and the number in the
//    next iteration should be 2 (5/2 rounded down).
var numInput;
// Use a Loop to check whether or not the input is a number. It only sets to
// True if a whole number is entered.

// PLEASE NOTE THAT I TRIED USING VALUE AND KEPT GETTING AN ERROR.
while(!Number.isInteger(numInput))
{
  numInput = Number(window.prompt("please enter a whole positive number", "260"));
  console.log("is the input an integer? " + Number.isInteger(numInput) + " What was the input value? " + numInput);
  if(Number.isInteger(numInput) == false || Number.isInteger(numInput) == NaN)
  {
    window.alert("The value you entered is either not a number or not a whole number. Please try again!")
  }
  else
  {
    window.alert("The value you entered is a whole number. That number is: " + numInput + " Thank you!")
    break;
  }
}

var loopNum = numInput;

while(loopNum > 0)
{
  console.log("The remainder of " + loopNum + "/2 is: " + loopNum%2);
  loopNum = Math.floor(loopNum / 2);
}

console.log("The number you entered is: " + numInput);




// 2. The algorithm in (1) can be used to convert a decimal number to a binary
//    number but there is one issue. What is the problem?

// The issue is the console prints the binary digits in reverse order. As a result,
// the output is rendered useless when it comes to comverting from a decimal to a binary.
// 3. Solve the problem in (2) using a stack.
function convertToBin(numInput)
{
  var remainingValue = new Stack(),
  rem,
  binaryString = '';

  while (numInput > 0)
  {
    rem = Math.floor(numInput % 2);
    remainingValue.push(rem);
    numInput = Math.floor(numInput / 2);
  }

  while (!remainingValue.isEmpty())
  {
    binaryString += remainingValue.pop().toString();
  }

  return binaryString;
}
console.log(numInput +  " converted to binary is: " + convertToBin(numInput));
window.alert("Your number converted to binary is: " + convertToBin(numInput));



//--------------------------//
// The queue data structure //
//--------------------------//
console.log("The queue data structure");

// 1. Describe the difference between a stack and a queue. Give one example
//    where a stack is appropriate and one example where a queue is
//    appropriate (that has not yet been discussed in class).

// Both stack and queue are non-primitive abstract data structures defined as a
// collection of objects organized in a particular order in a computer, but with
// different working principles. While both relate to organization and storage of data,
// they do it very differently. Stack uses the LIFO (last in first out) method
// whereas queue uses the FIFO (first in first out) method.

// An example of a stack using LIFO would be:
// Company A reported beginning inventories of 200 units at $2/unit. In addition,
// the company made purchases of: 125 units @ $3/unit; 170 units @ $4/unit;
// 300 units @ $5/unit; If the company sold 350 units, the order of cost
// expenses would be as follows: 300 units at $5/unit = $1,500 in COGS.

// An example of a queue using FIFO is:
// Banking software that is designed to settle stock trades in the order that they
// are received to be filled.

//------------------//
// Creating a queue //
//------------------//
console.log("Creating a queue");

// 1. Implement the queue data structure described in the book. Instead of
//    using 'let items = [];' use 'var items = []'. Note that this
//    implementation does not use the prototype (see project).

function Queue()
{
  var Product = [];

  this.enqueue = function(element)
  {
    Product.push(element);
  };

  this.dequeue = function()
  {
    return Product.shift();
  };

  this.front = function()
  {
    return Product[0];
  };

  this.isEmpty = function()
  {
    return Product.length == 0;
  };

  this.size = function()
  {
    return Product.length;
  };

  this.inlinePrint = function()
  {
    return Product.toString();
  };

  this.print = function()
  {
    console.log(Product.toString());
  };
}


// 2. Write a simple test program that shows your queue works.

var copay = new Queue();

console.log("The urgent care is open for the day! Hope we have a lot easy to treat patients!");
var patients;


while(!Number.isInteger(patients))
{
  patients = Number(window.prompt("The urgent care is open for the day! How many patients were waiting to get in?","40"));
  console.log("is the input an integer? " + Number.isInteger(patients) + " What was the input value? " + patients);
  if(Number.isInteger(patients) == false || Number.isInteger(patients) == NaN)
  {
    window.alert("Please enter a valid number of patients.")
  }
  else
  {
    window.alert("Wow!  " + patients + " patients! That is a lot!")
    break;
  }
}

for(i=0;i<patients;i++)
{
  copay.enqueue(Math.floor(Math.random() * 10));
}

console.log("Look at our patients by number: " + copay.inlinePrint());

console.log("Some of our patients are leaving! Hope they feel better!");

randomlyServed = Math.floor(Math.random() * 10);

console.log("The random number of patients leaving is " + randomlyServed + " out of " + patients + " patients.");
if(randomlyServed<patients)
{
  for(y=0;y<randomlyServed;y++)
  {
    copay.dequeue();
  }
}
else
{
  console.log("Looks like all of our patients have left!");
  for(y=0;y<=checkout.size();y++)
  {
    checkout.dequeue();
  }
}

console.log("Is the waiting room empty yet?: " + copay.isEmpty());


//--------------------//
// The priority queue //
//--------------------//
console.log("The priority queue");

// The following class is used below.

function QueueElement(element, priority) {
  this.element = element;
  this.priority = priority;
}

// 1. Finish the implementation below for the priority queue. Note that this
//    implementation does not use the prototype.

function PriorityQueue()
{
  var items = [];

  function QueueElement (element, priority)
  {
    items.element = element;
    items.priority = priority;
  }

  this.enqueue = function(element, priority)
  {
    // we need to create a queue element that stores the priority as well
    var queueElement = new QueueElement(element, priority);

    let added = false;
    for (let i=0; i<items.length; i++)
    {
      if (queueElement.priority < items[i].priority)
      {
        items.splice(i,0,queueElement);
        added = true;
        break;
      }
    }
    if (!added)
    {
      items.push(queueElement);
    }
  };


  // add the other methods as well


this.dequeue = function()
  {
    return items.shift();
  };

  this.front = function()
  {
    return items[0];
  };

  this.isEmpty = function()
  {
    return items.length == 0;
  };

  this.size = function()
  {
    return items.length;
  };

  this.getElement = function(pos)
  {
    return items[pos].element;
  };

  this.getPriority = function(pos)
  {
    return items[pos].priority;
  };

  // this is a helper function that is useful for printing
  this.print = function()
  {
    for (var i = 0; i < items.length; i++)
    {
      console.log(`${items[i].element} - ${items[i].priority}`);
    }
  };
}

// 2. Write a simple test that makes sure the priority queue works as expected.
var pq = new PriorityQueue();
var friends = ['Jimmy','Susie','Sarah','Nate','Billy','Alicia','Frank','Philip'];

for(d=0;d<friends.length;d++)
{
  pq.enqueue(friends[d],Math.floor((Math.random()*10) + 1));
}

console.log("There are " + pq.size() + " people in the queue!");
console.log("Let's see who is in the queue and their priorities!");
pq.print();
console.log("Let's take care of our priority 1, 2, and 3 customers!");

for(b=0; b<pq.size();b++)
{

  if(pq.getPriority(b) == 1 || pq.getPriority(b) == 2 || pq.getPriority(b) == 3)
  {
    pq.dequeue();
    b--;
  }
}

if(!pq.isEmpty())
{
  console.log("Let's take a look at our " + pq.size() + " queue!");
  pq.print();
}
else
{
  console.log("It looks like we took care of all of everyone!")
}



//---------------------------------//
// The circular queue - Hot Potato //
//---------------------------------//
console.log("The circular queue - Hot Potato");

// 1. Finish the implementation for the hot potato game. nameList contains the
//    names of the participants, and num is how many times the potato is passed
//    before a participant is ejected from the game (the one that holds the
//    potato). Note that this is effectively a simulation of the game.

function hotPotato(nameList, num)
{
  var queue = new Queue();

  for (var l=0; l<nameList.length; l++)
  {
    queue.enqueue(nameList[l]);
  }

  var eliminated = '';
  while (queue.size() > 1)
  {
    for (let l=0; l<num; l++)
    {
      queue.enqueue(queue.dequeue());
    }
    eliminated = queue.dequeue();
    console.log(eliminated + " was eliminated from the Hot Potato game.");
  }

  return queue.dequeue();
}

// 2. Test the code in (1).
var names = ['Bill','Greta','Chuck','Francis','Timothy', 'Michael', 'Sheila', 'Bobby', 'Ice Cube', 'Brutus', 'Caileigh', 'Ben'];
var winner = hotPotato(names, 22);
console.log("The winner is: " + winner + ". Congratulations!");


</script>
</head>
<body>
  See console!
</body>
</html>
